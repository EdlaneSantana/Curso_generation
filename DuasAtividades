-- PRIMEIRA QUESTÃO

CREATE DATABASE db_generation_game_online;
USE db_generation_game_online;

CREATE TABLE tb_personagens(
id BIGINT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(20) NOT NULL,
autor VARCHAR(30) NOT NULL,
ano INT(4) NOT NULL,
edicao INT(2) NOT NULL
);

CREATE TABLE tb_classes(
id BIGINT AUTO_INCREMENT PRIMARY KEY,
poder_ataque INT NOT NULL,
poder_defesa INT NOT NULL
);

ALTER TABLE tb_personagens ADD classes_id BIGINT;

ALTER TABLE tb_personagens ADD CONSTRAINT fk_personagens_categorias
FOREIGN KEY (classes_id) REFERENCES tb_classes(id);

INSERT INTO tb_classes(poder_ataque, poder_defesa)
VALUES(200, 1000);
INSERT INTO tb_classes(poder_ataque, poder_defesa)
VALUES(6000, 2000);
INSERT INTO tb_classes(poder_ataque, poder_defesa)
VALUES(5000, 5000);
INSERT INTO tb_classes(poder_ataque, poder_defesa)
VALUES(7000, 6000);
INSERT INTO tb_classes(poder_ataque, poder_defesa)
VALUES(5500, 1500);

SELECT * FROM tb_classes;
SELECT * FROM tb_personagens;

INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("HOMEM-ARANHA", "DESCONHECIDO", 200, 2, 1);
INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("THOR", "DESCONHECIDO", 200, 3, 2);
INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("HULK", "DESCONHECIDO", 2010, 4, 1);
INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("ARANHA MEN", "DESCONHECIDO", 2005, 5, 1);
INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("HOMEM-ARANHA", "DESCONHECIDO", 2007, 6, 1);
INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("MORGANA", "DESCONHECIDO", 2000, 7, 4);
INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("SABRINA", "DESCONHECIDO", 1900, 8, 4);
INSERT INTO tb_personagens(nome, autor, ano, edicao, classes_id)
VALUES("HOMEM DE FERRO", "DESCONHECIDO", 2001, 9, 1);

SELECT nome, autor, ano, edicao, classes_id FROM tb_personagens 
INNER JOIN tb_classes ON tb_classes.id = tb_personagens.classes_id;

SELECT * FROM tb_classes 
INNER JOIN tb_personagens ON tb_personagens.classes_id=tb_classes.id 
WHERE tb_classes.poder_ataque > 2000;

SELECT * FROM tb_classes 
INNER JOIN tb_personagens ON tb_personagens.classes_id=tb_classes.id 
WHERE tb_classes.poder_defesa > 1000 AND tb_classes.poder_defesa < 2000;

SELECT * FROM tb_personagens WHERE nome LIKE '%C%';

SELECT * FROM tb_classes 
INNER JOIN tb_personagens ON tb_personagens.classes_id=tb_classes.id 
WHERE tb_personagens.classes_id = 1 ;




-- SEGUNDA QUESTÃO
CREATE DATABASE db_pizzaria_legal;
USE db_pizzaria_legal;

CREATE TABLE tb_pizzas(
id BIGINT AUTO_INCREMENT PRIMARY KEY,
descricao VARCHAR(20) NOT NULL,
sabor VARCHAR(20) NOT NULL,
preco DECIMAL(10,2) NOT NULL,
temperatura CHAR(6),
categoria_id BIGINT,
FOREIGN KEY (categoria_id) REFERENCES tb_categorias(id)
);


CREATE TABLE tb_categorias(
id BIGINT AUTO_INCREMENT PRIMARY KEY,
tipo VARCHAR(10) NOT NULL,
lactose CHAR(1) NOT NULL
);

INSERT INTO tb_categorias(tipo, lactose)
VALUES ("DOCE", "S");
INSERT INTO tb_categorias(tipo, lactose)
VALUES ("NEUTRA", "N");
INSERT INTO tb_categorias(tipo, lactose)
VALUES ("DOCE", "S");
INSERT INTO tb_categorias(tipo, lactose)
VALUES ("NEUTRA", "N");
INSERT INTO tb_categorias(tipo, lactose)
VALUES ("SALGADA", "N");

INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("MC-DONALD", "CARNE", 76.00, "GELADA", 2);
INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("NAPOLITANO", "CHOCOLATE E MORANGO", 53.00, "GELADA", 1);
INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("CATUPIRI", "FRANCO COM CATUPIRI", 92.00, "QUENTE", 4);
INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("VEGANO", "CARNE VEGANA", 45.00, "QUENTE", 3);
INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("4 QUEIJOS", "QUEIJO", 101.00, "GELADA", 2);
INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("2 QUEIJOS", "QUEIJO", 35.00, "QUENTE", 5);
INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("FRANCO", "FRANGO A PARMEGIANA", 95.00, "QUENTE", 5);
INSERT INTO tb_pizzas(descricao, sabor, preco, temperatura, categoria_id)
VALUES("DIA DE FESTA", "BRIGADEIRO", 39.00, "QUENTE", 1);

SELECT * FROM tb_pizzas
WHERE preco > 45.00;

SELECT * FROM tb_pizzas
WHERE preco < 50.00 AND preco < 100.00;

SELECT * FROM tb_pizzas WHERE descricao LIKE '%M%';

SELECT * FROM tb_pizzas
INNER JOIN tb_categorias ON tb_pizzas.categoria_id = tb_categorias.id;

SELECT * FROM tb_pizzas
INNER JOIN tb_categorias ON tb_pizzas.categoria_id = tb_categorias.id
WHERE tb_categorias.tipo = "DOCE";
